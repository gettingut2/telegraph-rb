require_relative '../lib/telegraph.rb'

# using NodeHelper

#telegraph = Telegraph.create_account(short_name: 'testing')

content = [{:tag=>"h1", :children=>["Mastering Bitcoin"]}, {:tag=>"p", :children=>["Second Edition"]}, {:tag=>"p", :children=>["Programming the Open Blockchain"]}, {:tag=>"p", :children=>["Andreas M. Antonopoulos"]}, {:tag=>"h1", :children=>["Mastering Bitcoin"]}, {:tag=>"h1", :children=>["Revision History for the Second Edition"]}, {:tag=>"p", :children=>["by ", {:tag=>"span", :children=>["Andreas "]}, " ", {:tag=>"span", :children=>["M. "]}, " ", {:tag=>"span", :children=>["Antonopoulos"]}]}, {:tag=>"p", :children=>["Copyright © 2017 Andreas M. Antonopoulos, LLC. All rights reserved."]}, {:tag=>"p", :children=>["Printed in the United States of America."]}, {:tag=>"p", :children=>["Published by ", {:tag=>"span", :children=>["O’Reilly Media, Inc."]}, ", 1005 Gravenstein Highway North, Sebastopol, CA 95472."]}, {:tag=>"p", :children=>["O’Reilly books may be purchased for educational, business, or sales promotional use. Online editions are also available for most titles (", {:tag=>"a", :children=>["http://oreilly.com/safari"]}, "). For more information, contact our corporate/institutional sales department: 800-998-9938 or ", {:tag=>"span", :children=>[{:tag=>"em", :children=>["corporate@oreilly.com"]}]}, "."]}, {:tag=>"p", :children=>["See ", {:tag=>"a", :children=>["http://oreilly.com/catalog/errata.csp?isbn=9781491954386"]}, " for release details."]}, {:tag=>"p", :children=>["The O’Reilly logo is a registered trademark of O’Reilly Media, Inc. ", {:tag=>"em", :children=>["Mastering Bitcoin"]}, ", the cover image, and related trade dress are trademarks of O’Reilly Media, Inc."]}, {:tag=>"p", :children=>["While the publisher and the author have used good faith efforts to ensure that the information and instructions contained in this work are accurate, the publisher and the author disclaim all responsibility for errors or omissions, including without limitation responsibility for damages resulting from the use of or reliance on this work. Use of the information and instructions contained in this work is at your own risk. If any code samples or other technology this work contains or describes is subject to open source licenses or the intellectual property rights of others, it is your responsibility to ensure that your use thereof complies with such licenses and/or rights. ", {:tag=>"comment", :children=>[]}, " ", {:tag=>"comment", :children=>[]}]}, {:tag=>"p", :children=>["978-1-491-95438-6"]}, {:tag=>"p", :children=>["[LSI]"]}, {:tag=>"p", :children=>["Dedicated to my mum, Theresa (1946â\u0080\u00932017)"]}, {:tag=>"p", :children=>["She taught me to love books and question authority"]}, {:tag=>"p", :children=>["Thank you, mum"]}, {:tag=>"h1", :children=>["Preface"]}, {:tag=>"h1", :children=>["Writing the Bitcoin Book"]}, {:tag=>"h1", :children=>["Intended Audience"]}, {:tag=>"h1", :children=>["Why Are There Bugs on the Cover?"]}, {:tag=>"h1", :children=>["Conventions Used in This Book"]}, {:tag=>"h1", :children=>["Code Examples"]}, {:tag=>"h1", :children=>["Using Code Examples"]}, {:tag=>"h1", :children=>["Bitcoin Addresses and Transactions in This Book"]}, {:tag=>"h1", :children=>["O’Reilly Safari"]}, {:tag=>"h1", :children=>["How to Contact Us"]}, {:tag=>"h1", :children=>["Contacting the Author"]}, {:tag=>"h1", :children=>["Acknowledgments"]}, {:tag=>"h2", :children=>["Early Release Draft (GitHub Contributions)"]}, {:tag=>"p", :children=>[{:tag=>"a", :children=>[]}, {:tag=>"a", :children=>[]}, "I first stumbled upon bitcoin in mid-2011. My immediate reaction was more or less “Pfft! Nerd money!” and I ignored it for another six months, failing to grasp its importance. This is a reaction that I have seen repeated among many of the smartest people I know, which gives me some consolation. The second time I came across bitcoin, in a mailing list discussion, I decided to read the whitepaper written by Satoshi Nakamoto to study the authoritative source and see what it was all about. ", {:tag=>"a", :children=>[]}, "I still remember the moment I finished reading those nine pages, when I realized that bitcoin was not simply a digital currency, but a network of trust that could also provide the basis for so much more than just currencies. The realization that “this isn’t money, it’s a decentralized trust network,” started me on a four-month journey to devour every scrap of information about bitcoin I could find. I became obsessed and enthralled, spending 12 or more hours each day glued to a screen, reading, writing, coding, and learning as much as I could. I emerged from this state of fugue, more than 20 pounds lighter from lack of consistent meals, determined to dedicate myself to working on bitcoin."]}, {:tag=>"p", :children=>["Two years later, after creating a number of small startups to explore various bitcoin-related services and products, I decided that it was time to write my first book. Bitcoin was the topic that had driven me into a frenzy of creativity and consumed my thoughts; it was the most exciting technology I had encountered since the internet. It was now time to share my passion about this amazing technology with a broader audience."]}, {:tag=>"p", :children=>[{:tag=>"a", :children=>[]}, "This book is mostly intended for coders. If you can use a programming language, this book will teach you how cryptographic currencies work, how to use them, and how to develop software that works with them. The first few chapters are also suitable as an in-depth introduction to bitcoin for noncoders—those trying to understand the inner workings of bitcoin and cryptocurrencies."]}, {:tag=>"p", :children=>[{:tag=>"a", :children=>[]}, "The leafcutter ant is a species that exhibits highly complex behavior in a colony super-organism, but each individual ant operates on a set of simple rules driven by social interaction and the exchange of chemical scents (pheromones). Per Wikipedia: “Next to humans, leafcutter ants form the largest and most complex animal societies on Earth.” Leafcutter ants don’t actually eat leaves, but rather use them to farm a fungus, which is the central food source for the colony. Get that? These ants are farming!"]}, {:tag=>"p", :children=>["Although ants form a caste-based society and have a queen for producing offspring, there is no central authority or leader in an ant colony. The highly intelligent and sophisticated behavior exhibited by a multimillion-member colony is an emergent property from the interaction of the individuals in a social network."]}].to_json

telegraph = Telegraph.setup('a24dbcafbd49a962e4a7f5842410afdb07e49f0f7ac108a3c68146e75ca5')

# # telegraph = Telegraph.create_account(
# #   short_name: 'keka',
# #   author_name: 'keka',
# #   author_url: 'http://author.com'
# # )

# par = Nokogiri::XML("<p>keksto<b>KEK</b></p>").children.map do |elem|
#   elem.to_node
# end

# #p par

#telegraph.create_page(title: 'test', content: content)
p telegraph.get_page_list
# #p telegraph.get_account_info
